<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="css/coffees.css" </link>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" /><link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <title>Affogato</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="index.html">
        <img src="ameriQueeno-logo.jpg" width="100" height="100" alt="">
      </a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              What's your brew?
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="americano.html">Americano</a>
              <a class="dropdown-item" href="latte.html">Latte</a>
              <a class="dropdown-item" href="cappuccino.html">Cappuccino</a>
              <a class="dropdown-item" href="espresso.html">Espresso</a>
              <a class="dropdown-item" href="mocha.html">Mocha</a>
              <a class="dropdown-item" href="wild_card.html">Surprise</a>
            </div>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="contact-us.html">Contact us <span class="sr-only">(current)</span></a>
          </li>
        </ul>
      </div>
    </nav>

  <div>
    <h1>Irish Coffee</h1>
      <img src="irish-coffee.jpg" alt="An Irish Coffee" width="200px">
  </div>
    <div class="container">
      <div class="row">
        <div class="col-sm left">
          <p>Need a strong pick-me-up? Irish coffee is a cocktail consisting of hot coffee, Irish whiskey, and sugar, stirred, and topped with cream.
            The coffee is drunk through the cream.
          </p>
          <br>
          <p> Irish whiskey and at least one level teaspoon of sugar are poured over black coffee and stirred in until fully dissolved.
            Thick cream is carefully poured over the back of a spoon initially held just above the surface of the coffee and gradually raised a little until the entire layer is floated.
          </p>
        </div>

      <div class="col-sm right">
        <ul>
          <li>We recommend:<a href="https://www.gonvillehotel.co.uk/atrium-bar-drinks-menu/">The Gonville Hotel</a></li>
          <li>For a strong one:<a href="https://parkerstavern.com/">Parker's Tavern</a></li>
          <li>To warm up:<a href="https://www.oneills.co.uk/">O'Neill's</a></li>
          <li>What's near me?</li>
        </ul>
      </div>
    </div>
    </div>

    <div class="map"
      <h2>Coffee near me:</h2>

   <title>Coffee near me</title>
   <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
   <meta charset="utf-8">
   <style>
     /* Always set the map height explicitly to define the size of the div
      * element that contains the map. */
     #map {
       height: 100%;
       background-color: grey;
     }

     /* Optional: Makes the sample page fill the window. */
     html,
     body {
       height: 100%;
       margin: 0;
       padding: 0;
     }

     /* TODO: Step 4A1: Make a generic sidebar */
   /* Styling for an info pane that slides out from the left.
     * Hidden by default. */
   #panel {
     height: 100%;
     width: null;
     background-color: white;
     position: fixed;
     z-index: 1;
     overflow-x: hidden;
     transition: all .2s ease-out;
   }

   .open {
     width: 250px;
   }

   /* Styling for place details */
   .hero {
     width: 100%;
     height: auto;
     max-height: 166px;
     display: block;
   }

   .place,
   p {
     font-family: 'open sans', arial, sans-serif;
     padding-left: 18px;
     padding-right: 18px;
   }

   .details {
     color: darkslategrey;
   }

   a {
     text-decoration: none;
     color: cadetblue;
   }
   </style>
   </head>

   <body>
   <!-- TODO: Step 4A2: Add a generic sidebar -->
   <!-- The slide-out panel for showing place details -->
   <div id="panel"></div>

   <!-- Map appears here -->
   <div id="map"></div>

   <script>
     /* Note: This example requires that you consent to location sharing when
      * prompted by your browser. If you see the error "Geolocation permission
      * denied.", it means you probably did not give permission for the browser * to locate you. */

      /* TODO: Step 2, Geolocate your user
      * Replace the code from here to the END TODO comment with this code
      * from codelab instructions. */
   let pos;
   let map;
   let bounds;
   let infoWindow;
   let currentInfoWindow;
   let service;
   let infoPane;
   function initMap() {
      // Initialize variables
      bounds = new google.maps.LatLngBounds();
      infoWindow = new google.maps.InfoWindow;
      currentInfoWindow = infoWindow;
      /* TODO: Step 4A3: Add a generic sidebar */
   infoPane = document.getElementById('panel');

      // Try HTML5 geolocation
      if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(position => {
          pos = {
          lat: position.coords.latitude,
          lng: position.coords.longitude
          };
          map = new google.maps.Map(document.getElementById('map'), {
          center: pos,
          zoom: 15
          });
          bounds.extend(pos);

          infoWindow.setPosition(pos);
          infoWindow.setContent('Location found.');
          infoWindow.open(map);
          map.setCenter(pos);

          /* TODO: Step 3B2, Call the Places Nearby Search */
   // Call Places Nearby Search on user's location
   getNearbyPlaces(pos);
      }, () => {
          // Browser supports geolocation, but user has denied permission
          handleLocationError(true, infoWindow);
      });
      } else {
      // Browser doesn't support geolocation
      handleLocationError(false, infoWindow);
      }
   }

   // Handle a geolocation error
   function handleLocationError(browserHasGeolocation, infoWindow) {
      // Set default location to Sydney, Australia
      pos = {lat: -33.856, lng: 151.215};
      map = new google.maps.Map(document.getElementById('map'), {
      center: pos,
      zoom: 15
      });

      // Display an InfoWindow at the map center
      infoWindow.setPosition(pos);
      infoWindow.setContent(browserHasGeolocation ?
      'Geolocation permissions denied. Using default location.' :
      'Error: Your browser doesn\'t support geolocation.');
      infoWindow.open(map);
      currentInfoWindow = infoWindow;

      /* TODO: Step 3B3, Call the Places Nearby Search */
   // Call Places Nearby Search on the default location
   getNearbyPlaces(pos);
   }
   /* END TODO: Step 2, Geolocate your user */
   /* TODO: Step 3B1, Call the Places Nearby Search */
   // Perform a Places Nearby Search Request
   function getNearbyPlaces(position) {
      let request = {
      location: position,
      rankBy: google.maps.places.RankBy.DISTANCE,
      keyword: 'coffee'
      };

      service = new google.maps.places.PlacesService(map);
      service.nearbySearch(request, nearbyCallback);
   }

   // Handle the results (up to 20) of the Nearby Search
   function nearbyCallback(results, status) {
      if (status == google.maps.places.PlacesServiceStatus.OK) {
      createMarkers(results);
      }
   }

   /* TODO: Step 3C, Generate markers for search results */
   // Set markers at the location of each place result
   function createMarkers(places) {
      places.forEach(place => {
      let marker = new google.maps.Marker({
          position: place.geometry.location,
          map: map,
          title: place.name
      });

      /* TODO: Step 4B: Add click listeners to the markers */
   // Add click listener to each marker
   google.maps.event.addListener(marker, 'click', () => {
     let request = {
     placeId: place.place_id,
     fields: ['name', 'formatted_address', 'geometry', 'rating',
         'website', 'photos']
     };

     /* Only fetch the details of a place when the user clicks on a marker.
     * If we fetch the details for all place results as soon as we get
     * the search response, we will hit API rate limits. */
     service.getDetails(request, (placeResult, status) => {
     showDetails(placeResult, marker, status)
     });
   });

      // Adjust the map bounds to include the location of this marker
      bounds.extend(place.geometry.location);
      });
      /* Once all the markers have been placed, adjust the bounds of the map to
      * show all the markers within the visible area. */
      map.fitBounds(bounds);
   }

   /* TODO: Step 4C: Show place details in an info window */
   // Builds an InfoWindow to display details above the marker
   function showDetails(placeResult, marker, status) {
      if (status == google.maps.places.PlacesServiceStatus.OK) {
      let placeInfowindow = new google.maps.InfoWindow();
      placeInfowindow.setContent('<div><strong>' + placeResult.name +
          '</strong><br>' + 'Rating: ' + placeResult.rating + '</div>');
      placeInfowindow.open(marker.map, marker);
      currentInfoWindow.close();
      currentInfoWindow = placeInfowindow;
      showPanel(placeResult);
      } else {
      console.log('showDetails failed: ' + status);
      }
   }

   /* TODO: Step 4D: Load place details in a sidebar */
   // Displays place details in a sidebar
   function showPanel(placeResult) {
      // If infoPane is already open, close it
      if (infoPane.classList.contains("open")) {
      infoPane.classList.remove("open");
      }

      // Clear the previous details
      while (infoPane.lastChild) {
      infoPane.removeChild(infoPane.lastChild);
      }

      /* TODO: Step 4E: Display a Place Photo with the Place Details */
   // Add the primary photo, if there is one
   if (placeResult.photos != null) {
     let firstPhoto = placeResult.photos[0];
     let photo = document.createElement('img');
     photo.classList.add('hero');
     photo.src = firstPhoto.getUrl();
     infoPane.appendChild(photo);
   }

      // Add place details with text formatting
      let name = document.createElement('h1');
      name.classList.add('place');
      name.textContent = placeResult.name;
      infoPane.appendChild(name);
      if (placeResult.rating != null) {
      let rating = document.createElement('p');
      rating.classList.add('details');
      rating.textContent = `Rating: ${placeResult.rating} \u272e`;
      infoPane.appendChild(rating);
      }
      let address = document.createElement('p');
      address.classList.add('details');
      address.textContent = placeResult.formatted_address;
      infoPane.appendChild(address);
      if (placeResult.website) {
      let websitePara = document.createElement('p');
      let websiteLink = document.createElement('a');
      let websiteUrl = document.createTextNode(placeResult.website);
      websiteLink.appendChild(websiteUrl);
      websiteLink.title = placeResult.website;
      websiteLink.href = placeResult.website;
      websitePara.appendChild(websiteLink);
      infoPane.appendChild(websitePara);
      }

      // Open the infoPane
      infoPane.classList.add("open");
   }
   </script>

   <!-- TODO: Step 1C, Get an API key -->
   <!-- TODO: Step 3A, Load the Places Library -->
   <script async defer
     src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6KtlfT9gi8f2HlkuzbCAgviXxyjqmaoY&libraries=places&callback=initMap">

   </script>

 </div>

    <div class="card-footer text-muted">
      <p>&copy; AmeriQueeno<p>
    </div>

    <script src="js/scripts.js"></script>
    <script src="js\index.js"></script>
    <script src="popper.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
    <!-- Map -->
</html>
